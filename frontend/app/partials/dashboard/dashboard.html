<!-- Content of home logged user view-->
<div class="container">

    <div class="row">
        <!-- Account panel -->
        <div ng-controller="accountTableCtrl as accountCtrl" id="account-panel" class="col-md-5">
            <div class="panel panel-default">
                <!-- Account panel header -->
                <div class="panel-heading text-center">
                    Cuentas
                    <div class="pull-right modal-demo">
                        <button ng-click="accountCtrl.showModal()" class="icon-button"><i
                                class="fa fa-plus-circle fa-lg blueIcon" aria-hidden="true"></i></button>
                    </div>
                </div>

                <!-- Account panel body -->
                <div class="panel-body">
                    <div class="span6">
                        <table class="table table-responsive" arrow-selector>
                            <thead>
                            <th style="width: 40%">@Cuenta de twitter:</th>
                            <th style="width: 50%">Descripción</th>
                            <th style="width: 10%"> Eliminar</th>
                            </thead>
                            <tbody>
                            <tr ng-repeat="account in accountCtrl.accountList"
                                ng-show="account.activated"
                                ng-click="accountCtrl.selectAccount(account)"
                                ng-class="{'selected': accountCtrl.active === account._id}">
                                <td>@{{account.name}}</td>
                                <td>{{account.description}}</td>
                                <td>
                                    <button ng-click="accountCtrl.showDeleteModal()" class="icon-button center-block"><i
                                            id="trashIcon"
                                            href="" class="fa fa-lg fa-trash" aria-hidden="true"></i></button>
                                </td>
                            </tr>
                            </tbody>
                        </table>

                        <table class="table table-responsive">
                            <thead>
                            <th style="width: 40%">@Cuenta desactivada:</th>
                            <th style="width: 50%">Descripción</th>
                            <th style="width: 10%">Reactivar</th>
                            </thead>

                            <tbody>
                            <tr ng-repeat="account in accountCtrl.accountList"
                                ng-click="accountCtrl.selectAccount(account)"
                                ng-class="{'selected': accountCtrl.active === account._id}"
                                ng-show="account.activated==false"
                            >
                                <td>@{{account.name}}</td>
                                <td>{{account.description}}</td>
                                <td>
                                    <div>
                                        <button ng-click="accountCtrl.reactivate(account)"
                                                class="icon-button center-block"><i id="reactivateIcon"
                                                                                    href="" class="fa fa-lg fa-history"
                                                                                    aria-hidden="true"></i></button>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>

                        <div class="row">
                            <div class="col-xs-4">
                                <img src="" class="img-circle">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tweet navigation toolbar with nav-pills -->
        <div id="tweet-panel" ng-controller="tweetTableCtrl as tweetCtrl" class="col-md-7">
            <uib-tabset active="activeJustified" justified="true">

                <!-- Tweet information tab-->
                <uib-tab index="0">
                    <uib-tab-heading>
                        <i class="fa fa-twitter"
                           aria-hidden="true"></i>&nbsp;Información
                        de tweets
                    </uib-tab-heading>
                    <uib-tab-body>
                        <hr>
                        <uib-tabset type="pills" class="center-pills">
                            <uib-tab heading="Home tweets" ng-click="tweetCtrl.getHomeTimeline()">
                                <hr>
                                <div class="container" ng-repeat="tweet in tweetCtrl.homeTimeLineTweetsList">
                                    <twitter-widget twitter-widget-id="tweet.id_str">
                                    </twitter-widget>
                                </div>
                            </uib-tab>
                            <uib-tab heading="Mis tweets" ng-click="tweetCtrl.getMyTweets()">
                                <hr>
                                <div class="container" ng-repeat="tweet in tweetCtrl.myTweets">
                                    <twitter-widget twitter-widget-id="tweet.id_str">
                                    </twitter-widget>
                                </div>
                            </uib-tab>
                            <uib-tab heading="Tweets programados" ng-click="tweetCtrl.getScheduledTweets()">
                                <hr>
                                <div ng-repeat="tweet in tweetCtrl.scheduledTweets">
                                    <hr>
                                    <h3>Tweets pendientes de publicación</h3>
                                    <table class="table table-bordered table-responsive">
                                        <thead>
                                        <tr>
                                            <th>Texto del tweet</th>
                                            <th>Fecha y hora de publicación</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>{{tweet.text}}</td>
                                            <td>{{tweet.publishDate | date:"dd/MM/yyyy 'a las' h:mma"}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </uib-tab>
                            <uib-tab heading="Menciones" ng-click="tweetCtrl.getMentions()">
                                <hr>
                                <div class="container" ng-repeat="tweet in tweetCtrl.mentions">
                                    <twitter-widget twitter-widget-id="tweet.id_str">
                                    </twitter-widget>
                                </div>
                            </uib-tab>
                            <uib-tab heading="Me han retwiteado" ng-click="tweetCtrl.getRetweets()">
                                <hr>
                                <div class="container" ng-repeat="tweet in tweetCtrl.retweets">
                                    <twitter-widget twitter-widget-id="tweet.id_str">
                                    </twitter-widget>
                                </div>
                            </uib-tab>
                            <uib-tab heading="Favoritos" ng-click="tweetCtrl.getFavorites()">
                                <hr>
                                <div class="container" ng-repeat="tweet in tweetCtrl.favorites">
                                    <twitter-widget twitter-widget-id="tweet.id_str">
                                    </twitter-widget>
                                </div>
                            </uib-tab>

                            <uib-tab ng-click="tweetCtrl.isUserSelected()" heading="Seguimiento en tiempo real">
                                <hr>
                                <uib-tabset type="pills" class="center-pills">
                                    <uib-tab elem-ready="tweetCtrl.getSeguimiento()" heading="Gestionar seguimiento">
                                        <hr>
                                        <div>
                                            <table class="table table-bordered">

                                                <thead>
                                                <tr>
                                                    <th class="text-center">Hashtags</th>
                                                    <th class="text-center col-md-1">¿Eliminar?</th>
                                                </tr>
                                                </thead>
                                                <tbody ng-repeat="i in tweetCtrl.allHashtags">
                                                <tr>
                                                    <td class="text-center">#{{i.hashtag}}</td>
                                                    <td>
                                                        <button class="btn btn-primary center-block"
                                                                ng-init="toggle[$index] = false"
                                                                ng-click="toggle[$index] = !toggle[$index]"><i
                                                                class="fa fa-trash text-center" aria-hidden="true"></i>
                                                        </button>
                                                    </td>
                                                </tr>
                                                <tr ng-if="toggle[$index]">
                                                    <td colspan="4"><h5 align="center">¿Estas seguro que deseas
                                                        eliminarla?</h5>
                                                        <div class="text-center">
                                                            <div class="btn-group">
                                                                <button class="btn btn-danger"
                                                                        ng-click="tweetCtrl.deleteHashtag(i)">Si
                                                                </button>
                                                                <button class="btn btn-info center-block"
                                                                        ng-click="toggle[$index] = false">No
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div>
                                            <form class="form-inline pull-right" ng-submit="tweetCtrl.postHashtag()">
                                                <div class="form-group">
                                                    <label>Hashtag a seguir:</label>
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                    <input class="form-control" type="text"
                                                           ng-model="tweetCtrl.hashtag">
                                                </div>
                                                &nbsp;&nbsp;&nbsp;&nbsp;
                                                <button class=" btn btn-success pull-right" type="submit">Añadir
                                                </button>
                                            </form>

                                            <br><br><br><br><br>
                                            <hr>

                                            <table class="table table-bordered">
                                                <thead>
                                                <tr>
                                                    <th class="text-center">Usuarios seguidos</th>
                                                    <th class="text-center col-md-1">¿Eliminar?</th>
                                                </tr>
                                                </thead>
                                                <tbody ng-repeat="i in tweetCtrl.allFollowedUsers">
                                                <tr>
                                                    <td class="text-center">{{i.user}}</td>
                                                    <td>
                                                        <button class="btn btn-primary center-block"
                                                                ng-init="toggle[$index] = false"
                                                                ng-click="toggle[$index] = !toggle[$index]"><i
                                                                class="fa fa-trash text-center" aria-hidden="true"></i>
                                                        </button>
                                                    </td>
                                                </tr>
                                                <tr ng-if="toggle[$index]">
                                                    <td colspan="4"><h5 align="center">¿Estas seguro que deseas
                                                        eliminarlo?</h5>
                                                        <div class="text-center">
                                                            <div class="btn-group">
                                                                <button class="btn btn-danger"
                                                                        ng-click="tweetCtrl.deleteFollowed(i)">Si
                                                                </button>
                                                                <button class="btn btn-info center-block"
                                                                        ng-click="toggle[$index] = false">No
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>

                                            <form class="form-inline pull-right" ng-submit="tweetCtrl.postFollowed()">
                                                <div class="form-group">
                                                    <label for="followedUser">Usuario a seguir:</label>
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                    <input id="followedUser" type="text" class="form-control"
                                                           ng-model="tweetCtrl.followedUser">
                                                </div>
                                                &nbsp;&nbsp;&nbsp;&nbsp;
                                                <button type="submit" class="btn btn-success pull-right">Añadir</button>
                                            </form>
                                        </div>
                                    </uib-tab>
                                    <uib-tab ng-click="tweetCtrl.webSocketHashtags()" heading="Seguir Hashtags">
                                        <hr>
                                        <h1 class="text-center">Hashtags</h1>
                                        <div ng-repeat="tweet in tweetCtrl.hashtagTweet track by tweet.id_str">
                                            <twitter-widget twitter-widget-id="tweet.id_str">
                                            </twitter-widget>
                                        </div>
                                    </uib-tab>
                                    <uib-tab ng-click="tweetCtrl.webSocketFollowedUsers()"
                                             heading="Tweets de usuarios seguidos">
                                        <hr>
                                        <h1 class="text-center">Tweets de usuarios seguidos</h1>
                                        <div ng-repeat="tweet in tweetCtrl.followedUserTweet track by tweet.id_str">
                                            <twitter-widget twitter-widget-id="tweet.id_str">
                                            </twitter-widget>
                                        </div>
                                    </uib-tab>
                                </uib-tabset>
                            </uib-tab>
                        </uib-tabset>

                    </uib-tab-body>
                </uib-tab>

                <!--  Publish tweet tab -->
                <uib-tab index="1">
                    <uib-tab-heading>
                        <i class="fa fa-twitch" aria-hidden="true"></i>&nbsp;Publicar
                        tweet
                    </uib-tab-heading>
                    <uib-tab-body>
                        <hr>
                        <h1>Publicar un tweet</h1>
                        <hr>
                        <form name="tweetForm" ng-submit="tweetCtrl.publishTweet()" role="form">
                            <label>Añade un tweet:</label>
                            <textarea class="form-control embed-responsive" row="5" ng-maxlength="140"
                                      ng-model="tweetCtrl.tweet"></textarea>
                            <br>
                            <button type="submit" class="btn btn-default">Publicar tweet <i
                                    class="fa fa-plus-circle fa-lg blueIcon"></i>
                            </button>

                        </form>

                        <hr>
                        <h1>Funciones avanzadas</h1>
                        <hr>
                        <!--URL SHORTENER && UPLOAD IMAGES -->
                        <div>
                            <button id="shortButton" ng-click="tweetCtrl.showUrlModal()"
                                    class="btn btn-default colorButton pull-left">
                                Acortar URL&nbsp;<i class="fa fa-cut fa-lg blueIcon"></i>
                            </button>
                            <button id="uploadButton" ng-click="tweetCtrl.uploadImageModal()"
                                    class="btn btn-default colorButton pull-right">
                                Subir imagen&nbsp;<i class="fa fa-upload fa-lg blueIcon"></i>
                            </button>
                        </div>
                    </uib-tab-body>
                </uib-tab>


                <!-- Other tools tab -->
                <uib-tab index="2">
                    <uib-tab-heading>
                        <i class="fa fa-cogs " aria-hidden="true"></i>&nbsp;Más herramientas
                    </uib-tab-heading>
                    <uib-tab-body>
                        <hr>
                        <h1>Programar Tweet</h1>
                        <hr>
                        <form name="scheduleForm" ng-submit="tweetCtrl.scheduleTweet()" role="form">
                            <label>Programa un tweet:</label>
                            <textarea class="form-control embed-responsive" row="5" ng-maxlength="140"
                                      ng-model="tweetCtrl.sTweet"></textarea>
                            <hr>
                            <label>Selecciona fecha y hora:</label>
                            <adm-dtp ng-model='tweetCtrl.sDate' options='{autoClose:true, calType: "gregorian",
                            default:"today",gregorianStartDay: 1,    gregorianDic: {
        title: "Grégorien",
                            monthsNames: ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto",
                            "Septiembre", "Octubre", "Noviembre", "Diciembre"], daysNames: ["D", "L", "M", "X", "J", "V", "S"],
                            todayBtn: "Mes actual"
                            }}'></adm-dtp>
                            <br>
                            <button type="submit" class="btn btn-default">Publicar tweet <i
                                    class="fa fa-plus-circle fa-lg blueIcon"></i>
                            </button>
                        </form>

                        <hr>
                        <h1>Funciones avanzadas</h1>
                        <hr>
                        <!--URL SHORTENER && UPLOAD IMAGES -->
                        <div>
                            <button ng-click="tweetCtrl.showUrlModal()" class="btn btn-default colorButton pull-left">
                                Acortar URL&nbsp;<i class="fa fa-cut fa-lg blueIcon"></i>
                            </button>
                            <button ng-click="tweetCtrl.uploadImageModal()"
                                    class="btn btn-default colorButton pull-right">
                                Subir imagen&nbsp;<i class="fa fa-upload fa-lg blueIcon"></i>
                            </button>
                        </div>

                    </uib-tab-body>
                </uib-tab>
            </uib-tabset>
        </div>
    </div>
</div>